
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<style>
#about{
    font-weight: bold;
}
.question{
    font-weight:bold;
}
#questionTitle{
    font-weight:bold;
}
</style>
<body> 
<div class = "container">
	<div class="page-header">
        <h1><span class="glyphicon glyphicon-list-alt"></span> Survey Questions</h1>
    </div>
    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title" id="about"> About You </h3>
    </div>
    <div class="panel-body">
        <h4>Name</h4>
    <div class="input-group">
        <input id = "name" class="userInput" type="text" name="name">
    </div>  
    <br>
    <h4>Link to a Photo Image</h4>
    <div class="input-group">
        <input id = "imgLink" class="userInput" type="text" name="name">
    </div>
    </div> 
    </div>
    <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title" id=questionTitle> Questions </h3>
    </div>
    <div class="panel-body">
        <h3 class="question">Question 1</h3>
        <h4>You always have new ideas and plans in your head.</h4>
        <select data-placeholder="" class="select" id="question1">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
        <h3 class=question>Question 2</h3>
        <h4>You love beets.</h4>
        <select data-placeholder="" class="select" id="question2">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
    
        <h3 class=question>Question 3</h3>
        <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
        <select data-placeholder="" class="select" id="question3">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
    
        <h3 class=question>Question 4</h3>
        <h4>You love to prank people.</h4>
        <select data-placeholder="" class="select" id="question4">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
    
        <h3 class=question>Question 5</h3>
        <h4>You want everybody to like you.</h4>
        <select data-placeholder="" class="select" id="question5">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
    
        <h3 class=question>Question 6</h3>
        <h4>You tend to look at fantasies, instead of reality.</h4>
        <select data-placeholder="" class="select" id="question6">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
    
        <h3 class=question>Question 7</h3>
        <h4>You work your hardest on everything.</h4>
        <select data-placeholder="" class="select" id="question7">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
        <h3 class=question>Question 8</h3>
        <h4>You rarely get carried away.</h4>
        <select data-placeholder="" class="select" id="question8">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
        <h3 class=question>Question 9</h3>
        <h4>You're a joke-maker.</h4>
        <select data-placeholder="" class="select" id="question9">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    
        <h3 class=question>Question 10</h3>
        <h4>You dislike your job.</h4>
        <select data-placeholder="" class="select" id="question10">
            <option value=""></option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
        </select>
    </div>
    </div>
    <button id="submit" type="submit" class="btn btn-lg btn-primary btn-block"><h4>Submit</h4></button> 
    <br>
<footer class="footer">
    <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/ASimuro/friend-finder">GitHub Repo</a></p>
    </div>
</footer>

<div id="resultsModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h2 class="modal-title"> Your Match! </h2>
            </div>
            <div class="modal-body">
                <h2 id="friendName"></h2>
                <img id="friendIMG" src="" alt="Image Not Found" style="max-width: 350px;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>

<script type="text/javascript">
$(document).ready(function() {
$("#submit").on("click", function() {
    function newForm() {
        var completeForm = true;
        $(".userInput").each(function() {
            if ($(this).val() === ""){
                completeForm = false;
            }
        });
        $(".select").each(function() {
            if ($(this).val() === ""){
                completeForm = false;
            }
        });
        return completeForm;
    }
    if (newForm() == true) {  
        var newFriend = {
            name: $("#name").val().trim(),
            profilePic: $("#imgLink").val().trim(),
            scores: [
                $('#question1').val(),
                $('#question2').val(),
                $('#question3').val(),
                $('#question4').val(),
                $('#question5').val(),
                $('#question6').val(),
                $('#question7').val(),
                $('#question8').val(),
                $('#question9').val(),
                $('#question10').val(),
            ]
        };
        var currentURL = window.location.origin;  
        $.post(currentURL + "/api/friends", newFriend, function(data) {  
            $("#friendName").text(data.name);
            $("#friendIMG").attr("src", data.photo);
            $("#resultsModal").modal("toggle");
        });
        $('#name').val("");
        $('#imgLink').val("");
        $('#question1').val(""),
        $('#question2').val(""),
        $('#question3').val(""),
        $('#question4').val(""),
        $('#question5').val(""),
        $('#question6').val(""),
        $('#question7').val(""),
        $('#question8').val(""),
        $('#question9').val(""),
        $('#question10').val("")
    } else {
        alert("Please complete all fields.")
    }
    
});
});
</script>
</body>

</html>